fm.Package("com.reader.article"),fm.Import("com.reader.article.Articles"),fm.Import("com.reader.source.Sources"),fm.Import("com.reader.setting.Settings"),fm.Class("ArticleListController","jfm.dom.Controller"),com.reader.article.ArticleListController=function(e,t,n,r,i,s){"use strict";function a(){t.article_height=130,t.width=t.settings.window_width-t.settings.sourceListwidth,t.artcle_width=t.width<300?t.width:300,t.verticleAlign=t.width<=500}function f(e){return;var t}function l(e,t){t=t.parent().parent();var n=t.scrollLeft(),r=n+t.width(),i=e[0].offsetLeft-t[0].offsetLeft,s=i+e.width()+10;i<n?t.scrollLeft(i):s>r&&t.scrollLeft(s-t.width())}function c(e,t){var n=t.scrollTop(),r=n+t.height(),i=e[0].offsetTop-t[0].offsetTop,s=i+e.height()+10;i<n?t.scrollTop(i):s>r&&t.scrollTop(s-t.height())}this.setMe=function(e){t=e},this.onStart=function(e,n){ReadFile.notify("loading"),o=parseInt(e.sourceId),r.getInstance().getArticles(o,function(e){t.articles=e,n(),ReadFile.notify("loading complete")})},this.getThumbnail=function(){},this.replaceSpace=function(e){return e.replace(/\s/g,"&nbsp;")},this.afterRender=function(){t.articleMove.height(window.innerHeight-35),f(t.articleMove)};var o;this.onChange=function(e,n){o=parseInt(e.sourceId),r.getInstance().getArticles(o,function(e){t.articles=e,n()})};var u;this.onStop=function(){u(),t.articleMove&&t.articleMove.parent().scrollTop(0),ReadFile.notify("loading complete")},this.showArticle=function(e){location.hash=location.hash+"/article/"+e},this.ArticleListController=function(e){t.settings=i.getInstance(),a(),$(window).scrollTop(0),u=t.settings.on("window-resize",function(){a(),t.callAll("change")})}};
fm.isMinified=true;
