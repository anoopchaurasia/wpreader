fm.Package("jfm.dom"),fm.AbstractClass("View"),jfm.dom.View=function(e){function n(e,t){e.onStart(t,function(){e.createDom(e.template,function(t){$(e.container).html(t.el),e.afterRender&&e.afterRender(t)})})}this.setMe=function(t){e=t},"use strict",this.setMe=function(t){e=t};var t;this.View=function(){this.getSub().items?this.items=this.getSub().items:this.items=[],t=[]},this.getTemplate=function(e){var t=this.getSub().url;ReadFile.isPhone?ReadFile.get(t,function(t){e(t)}):jQuery.get(t,e)},this.onChange=function(){},this.controller=function(e){for(var n=0;n<t.length;n++)if(t[n].instanceOf(e))return t[n]},this.onStart=function(r){this.getTemplate(function(i){$("#view").html(i);var s=e.getSub().items,o;for(var u=0;u<s.length;u++){var a=new s[u].controller(r);a.template=a.template||s[u].template,a.container=a.container||s[u].container,t.push(a),n(a,r)}})},this.reRender=function(e,t){n(this.controller(e),t)},this.onStop=function(){$("#view").empty();while(t.length)t.pop().onStop(function(){})}};
fm.isMinified=true;
