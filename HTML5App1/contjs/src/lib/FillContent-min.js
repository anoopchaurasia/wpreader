fm.Package("lib"),fm.Class("FillContent"),lib.FillContent=function(e){function t(e){var t=e.width(),n="I want to know how many chars of this text fit.",r=document.createElement("span");e.html(r),r.style.whiteSpace="nowrap";var i=n.length;r.innerHTML=n;var s=Math.floor(t/r.offsetWidth*i);return s-3}this.setMe=function(t){e=t},$.fn.SkipRoot=function(){this.find("*").filter(function(){return this.tagName.toLowerCase()!="br"&&$.trim($(this).text())==""}).remove()},$.fn.SkipRoot=function(){this.find("*").filter(function(){return this.tagName.toLowerCase()!="br"&&$.trim($(this).text())==""}).remove()},$.fn.htmlTruncate=function(e,t,n){n=jQuery.extend({chars:/\s|\."|\./},n);var r=/<\/?[^<>]*\/?>/gim,i=this,s=i.html(),o=s,u,a={};while((u=r.exec(o))!=null)a[u.index-e<(a[0]==undefined?0:a[0].length)?0:u.index-e]!=undefined?a[0]+=u[0]:a[u.index-e<0?0:u.index-e]=u[0];o=o.split(r).join("");var f=o.length;e!=0&&(o=o.substring(e,o.length));if(o.length>t){var l;while(t>0){l=o.charAt(t);if(l.match(n.chars)){o=o.substring(0,t+1);break}t--}}else t=f;var c=0;e!=0&&a[0]&&(c=a[0].length);var h=0;if(s.search(r)!=-1)for(var p in a)h==0&&p>=o.length&&(h=o.length),o=[o.substring(0,p),a[p],o.substring(p,o.length)].join("");return h==0&&(h=o.length),o=o.substring(0,c).replace(/<br\s*\/?>/mgi,"")+o.substring(c,h)+o.substring(h,o.length).replace(/<br\s*\/?>/mgi,""),$(this).html(o),$(this).SkipRoot(),[t+1,f]},this.truncateWithHeight=function(e,n,r){var i=t(e),s=parseInt(e.css("line-height")),o=e.height(),u=Math.floor(o/s),a=i*u;e.html(r);var f=3,l=e.htmlTruncate(n,a),c=0,h=!0,p=l[1],d=0,v=e.get(0).scrollHeight-o;c=Math.floor(v/s*i/1.7),c<=0&&(c=0);while(v>0){l=e.htmlTruncate(0,l[0]-c);if(l[0]<=0){l[0]=0;break}if(d>20)break;d++,v=e.get(0).scrollHeight-o,c=Math.floor((v/s-1)*i/1.7),c<=f&&(c=f)}return[n+l[0],p-n-l[0]]},this.FillContent=function(){}};
fm.isMinified=true;
