(function(e,t){function n(e,t){return!this.$get&&"Object cannot be created"||e.isInterface&&e.Class+": can not initiated."||!this.__base___&&t.isAbstract&&e.Class+" is an abstract class"}function o(){return console.error("Unable to load file: "+this.src+". Please check the file name and parh."),!1}function u(e){var t=r[r.length-1];t&&!t.imports&&(t.imports=[]);for(var n=0,i=t.imports.length;n<i;n++)if(t.imports[n]==e)return this;return t.imports.push(e),!0}function a(e){var t=r[r.length-1];t&&!t.included&&(t.included=[]);if(!t)return;for(var n=0,i=t.included.length;n<i;n++)if(t.included[n]==e)return this;return t.included.push(e),!0}function l(e,n,i){if(t){require(e);var u=r.pop(),a,l=fm.basedir.replace(/\//gim,"");u||console.log(e,"script undefined"),typeof s[l+u.Class]=="object"&&(a=s[l+u.Class],s[l+u.Class]=!0),nt(u,a),fm.debug_mode===!0&&h(e);return}f||(f=document.getElementsByTagName("head")[0]);var p=document.createElement("script");fm.version&&(e+="?v="+fm.version),p.orignalpath=n,!i&&(p.onload=c),p.onerror=o,p.src=e,p.type="text/javascript",f.appendChild(p)}function c(){b(this.orignalpath,null),$(document).trigger("include_file_loaded",[this.orignalpath])}function h(e){require("fs").watchFile(e,{persistent:!0,interval:1e3},function(){r.push({packageName:""}),delete require.cache[e.replace(/\//g,"\\")],require(e),nt(r.pop())})}function p(e,t,n){setTimeout(function(){nt(e,t,n)})}function d(t){if(!t||t.length==0)return e;var n=t.split("."),r,i=e;for(r=0;r<n.length;r+=1)i[n[r]]=i[n[r]]||{},i=i[n[r]];return i}function v(e){try{return Object.defineProperty(e,"a",{}),"a"in e}catch(t){return!1}}function g(e){var t={};e.prototype.$add=function(e,n,r,i){function s(e){if(i)throw this+"."+n+" can not be changed.";t[n]=e}function o(){return t[n]}r!=undefined&&(t[n]=r),e[n]=null,Object.defineProperty&&m?Object.defineProperty(e,n,{get:o,set:s}):e.__defineGetter__?(e.__defineGetter__(n,o),e.__defineSetter__(n,s)):e[n]==undefined&&(e[n]=t[n])}}function b(e,t){if(y[e])for(var n=0,r=y[e].length;n<r;n++)y[e][n](e,t);y[e]={classObj:t}}function w(e,t){y[e]=y[e]||[],y[e].push(t)}function E(e){return y[e]}function S(e){var t={},n;for(var r=0;e&&r<e.length;r++)n=e[r].split("."),t[n[n.length-1]]=fm.stringToObject(e[r]);return t}function T(t,n){x.push(e.Static,e.Abstract,e.Const,e.Private),Static=t.prototype.Static={},Abstract=t.prototype.Abstract=n?{}:undefined,Const=t.prototype.Const={},Const.Static=Static.Const={},Private=t.prototype.Private={}}function N(e){delete e.prototype.Static,delete e.prototype.Const,delete e.prototype.Private,delete e.prototype.Abstract,Private=x.pop(),Const=x.pop(),Abstract=x.pop(),Static=x.pop()}function C(e,t){for(var n in e)t[n]==undefined&&(t[n]=e[n]);return t}function k(e){for(var t=1,n=arguments.length;t<n;t++)for(var r in arguments[t])if(e.hasOwnProperty(r))throw e.getClass()+": has "+r+" at more than one places"}function L(e){var t=[],n={};return j(e,function(e,r){typeof e=="function"?t.push(r+""):n[r+""]=e}),e=undefined,{methods:t,fields:n}}function A(e,t){var n={},r,i=t["transient"]||[];i.push("shortHand");for(r=0;r<i.length;r++)n[i[r]]=!0;j(e.Static,function(e,t){n[t]=!0}),j(e.staticConst,function(e,t){n[t]=!0}),e["transient"]=n,e=t=r=n=undefined}function O(e,t){j(e,function(e,n){if(typeof e!="function")throw t+": can not contain abstract fields."})}function M(e){e.prototype.$checkMAndGetF=function(t,n,r,i){var s={},o,u,a=e.prototype.$get("methods");if(r){var f=i.Abstract;for(o=0,u=a.length;o<u;o++)f[a[o]]||(f[a[o]]=function(){})}else{for(o=0,u=n.length;o<u;o++)s[n[o]]=!0;for(o=0,u=a.length;o<u;o++)if(!s[a[o]])throw"Interface method "+a[o]+" of "+e.getClass()+" not implemented by "+t.getClass()}j(e.prototype.$get("fields"),function(n,r){e.prototype.$add(t,r,n,!0,!0)})}}function _(e,t,n){return function(){e.apply(t,arguments),n()}}function D(){arguments.length>0&&fm.stackTrace("Class does not have any constructor ")}function P(e,t){var n=e.lastIndexOf("."),r=d(e.substring(0,n)),i=e.substring(1+n);r[i]&&r[i]!=t,r[i]=t}function H(e,t,n,r){function o(){i--,i==0&&s&&n()}var i=0,s;for(var u=0;e&&u<e.length;u++){i++;var a=E(e[u]);a&&"classObj"in a?o():w(e[u],function(e,t){o()})}for(var u=0;t&&u<t.length;u++){i++;var a=E(t[u]);a&&"classObj"in a?o():w(t[u],function(e,t){o()})}s=!0,i==0&&n()}function B(e,t){function n(){var e,n=t,i=r.prototype,s=i.$get("Const"),o;for(var u in r)if(r.hasOwnProperty(u)){o=s.hasOwnProperty(u),e=r[u];if(typeof e=="function"){if(u=="$add")continue;for(var a=n.length-1;a>=0;a--){if(n[a][u]!=undefined)break;n[a][u]=e}}else{o&&r.$add(r,u,e,o);for(var f=n.length-1;f>=0;f--){if(n[f][u]!=undefined)break;r.$add(n[f],u,undefined,o)}}}delete r.$add;var l=n.pop();return l.base=r}e.prototype.get$arr=function(){return t},e.prototype.__base___=!0;var r=new e;delete e.prototype.__base___,delete e.prototype.get$arr;var i=_(r.constructor,r,n);return i.prototype=r,i.$ADD=function(e){t.unshift(e),delete i.$ADD},i}function j(e,t){if(typeof e!="null")for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function F(e){var t={};e.$add=function(n,r,i,s){function o(n){if(s)throw this+"."+r+" can not be changed.";s?t[r]=n:e[r]=n}function u(){return s?t[r]:e[r]}i!=undefined&&(t[r]=i),Object.defineProperty&&m?(n[r]=n[r],Object.defineProperty(n,r,{get:u,set:o})):n.__defineGetter__?(n.__defineGetter__(r,u),n.__defineSetter__(r,o)):e[r]!=undefined&&(n[r]=e[r])}}function I(e,t,n){var r=e.getClass();for(var i in e)e.hasOwnProperty(i)&&typeof e[i]=="function"&&i!=n&&(e[i]=e[i].bind(e),e[i].$name=i,e[i].$Class=r);e.getFunctionName=function(){var e=arguments.callee.caller;return e.name||e.$name||""},F(e),e.Private&&typeof e.Private[n]=="function"&&(e[n]=e.Private[n]),e[n]&&(e[n].$Class=e.getClass(),e[n].$name=n);if(e.Const){var s=e.Const;delete s.Static;for(i in s)s.hasOwnProperty(i)&&e.$add(e,i,s[i],!0)}if(e.isAbstract){var o=e.prototype.$get("Abstract");e.setAbstractMethods=function(e){for(var n in o)if(o.hasOwnProperty(n)){if(typeof e[n]!="function")throw"Abstract method "+n+" is not implemented by "+e.getClass();this[n]=e[n]}t&&t.prototype.isAbstract&&t.prototype.setAbstractMethods(e)}}t&&(t.prototype.isAbstract&&(t.prototype.getSub=function(){return e.isAbstract?e.getSub():e}),e.base=t,!e.isAbstract&&t.prototype.isAbstract&&t.prototype.setAbstractMethods(e),t.$ADD(e))}function q(e,t,n,r,i){var s={};s.base=n;for(var o in r)s[o]=r[o];for(var o in i)s[o]=s[o]||i[o];switch(t.length){case 0:return new e;case 1:return new e(s[t[0]]);case 2:return new e(s[t[0]],s[t[1]]);case 3:return new e(s[t[0]],s[t[1]],s[t[2]]);case 4:return new e(s[t[0]],s[t[1]],s[t[2]],s[t[3]]);case 5:return new e(s[t[0]],s[t[1]],s[t[2]],s[t[3]],s[t[4]]);case 6:return new e(s[t[0]],s[t[1]],s[t[2]],s[t[3]],s[t[4]],s[t[5]]);case 7:return new e(s[t[0]],s[t[1]],s[t[2]],s[t[3]],s[t[4]],s[t[5]],s[t[6]]);case 8:return new e(s[t[0]],s[t[1]],s[t[2]],s[t[3]],s[t[4]],s[t[5]],s[t[6]],s[t[7]]);case 9:return new e(s[t[0]],s[t[1]],s[t[2]],s[t[3]],s[t[4]],s[t[5]],s[t[6]],s[t[7]],s[t[8]]);case 10:return new e(s[t[0]],s[t[1]],s[t[2]],s[t[3]],s[t[4]],s[t[5]],s[t[6]],s[t[7]],s[t[8]],s[t[9]]);case 11:return new e(s[t[0]],s[t[1]],s[t[2]],s[t[3]],s[t[4]],s[t[5]],s[t[6]],s[t[7]],s[t[8]],s[t[9]],s[t[10]]);default:return new e(s[t[0]],s[t[1]],s[t[2]],s[t[3]],s[t[4]],s[t[5]],s[t[6]],s[t[7]],s[t[8]],s[t[9]],s[t[10]],s[t[11]],s[t[12]],s[t[13]],s[t[14]],s[t[15]],s[t[16]],s[t[17]],s[t[18]],s[t[19]],s[t[20]])}}function R(e,t){var n=[];e&&n.push("pofn.base"),n.push("undefined");if(t)for(var r in t)t.hasOwnProperty(r)&&n.push("pofn.ics."+r);return n.join(",")}function U(e,t,n){T(e,this.isAbstract);var r,i,s;r=q(e,this.args,n.base,this.ics,this.Package),r.setMe&&r.setMe(n),delete r.setMe,this.shortHand=r.shortHand||this.shortHand;var o=L(r);this.methods=o.methods=n.base?o.methods.concat(n.base.prototype.$get("methods")):o.methods;if(this.isInterface)return n.base&&C(n.base.prototype.$get("fields"),o.fields),this.fields=o.fields,M(n),N(e),this;var u=this.interfaces;if(u)for(i=0,s=u.length;i<s;i++)d(u[i]).prototype.$checkMAndGetF(n,o.methods,this.isAbstract,r);r.init&&r.init(),this.isAbstract&&O(r.Abstract,this.Class),this.Static=C(r.Static,{}),this.isAbstract&&(this.Abstract=C(r.Abstract,{})),this.staticConst=this.Static.Const,delete this.Static.Const,this.Const=C(r.Const,{}),delete this.Const.Static,k(r,this.Static,this.staticConst,this.Abstract,this.Const),A(this,r),this.privateConstructor=!!r.Private&&r.Private[t],N(e),u=i=r=o=e=t=undefined}function z(e,t){var n=[];e&&n.push("baseObj"),n.push("undefined");if(t)for(var r in t)t.hasOwnProperty(r)&&n.push("pofn.ics."+r);return n.join(",")}function K(e,t,r,i){var s,o=n.call(this,t,e);if(o)throw o;s=e.base&&B(e.base,this.__base___?this.get$arr():[]),T(i,e.isAbstract);var u;return u=q(i,t.args,s,t.ics,t.Package),u.setMe&&u.setMe(u),delete u.setMe,I(u,s,r),delete u["transient"],delete u.shortHand,delete u.init,N(i),u.constructor=u[r]||D,delete u[r],this.__base___||delete u.$add,u}function Q(){var e=Number(Math.random().toString().replace(".",""));return function(){return e}}function G(e,t,n){var r=["me"];n&&r.unshift("base");for(var i in t)r.push(i);return r}function Y(e,t){var e=e||this,n=jQuery.isArray(e)?[]:{},r=t?[]:e.transient||[];r.push("transient","base"),Array.prototype.push.apply(r,fm.globaltransient),e.beforeSerialize&&e.beforeSerialize();for(var i in e){if(i=="error"&&e[i])throw"Please fix error";e.hasOwnProperty(i)&&r.indexOf(i)==-1&&e[i]!=null&&(typeof e[i]=="object"?n[i]=e[i].instanceOf&&e[i].getClass?e[i].serialize(null,t):Y(e[i],t):typeof e[i]!="function"&&typeof e[i]!="undefined"&&(n[i]=e[i]))}return e.afterSerialize&&e.afterSerialize(),n}function Z(e,t,n,r){function s(t){var n=e.interfaces||[];for(var r=0,i=n.length;r<i;r++)if(d(n[r]).instanceOf(t))return!0;return!1}var i=this;this.getClass=function(){return i},this.toString=function(){return e.Class},e.baseClass&&(this.base=fm.stringToObject(e.baseClass),this.prototype.getSub=function(){return i}),this.serialize=Y,this.clone=function(){return new(this.getClass())(this.serialize(null,!0))},g(this),e.ics=S(e.imports),e.args=G(n,e.ics,e.baseClass),U.call(e,n,t,this),this.package=e.Package,typeof e.shortHand=="string"&&P(e.shortHand,this),this.isAbstract=e.isAbstract,this.prototype.$get=function(t){return e[t]},tt.call(this),this.equals=function(){return this===arguments[0]},this.instanceOf=function(e){return e.getClass()==this.getClass()||this.base&&this.base.instanceOf(e)||s(e)},r&&typeof r[r.length-1]=="function"&&r.pop()();var o={};for(var u in this)o[u]=this[u];o.prototype=this.prototype,n.prototype=o,b(this.getClass(),this),typeof this.main=="function"&&(this.main(r),delete this.main),r=undefined}function et(e,t,n,r,i){var s,o=e.getClass(),u=t==e;for(var a in n)n.hasOwnProperty(a)&&(s=n[a],typeof s=="function"?u?(s.$name=a,s.$Class=o,t[a]=s.bind(t)):t[a]==undefined&&(t[a]=e[a]):t[a]==undefined&&e.prototype.$add(t,a,n[a],r,i))}function tt(e){var t=this.prototype.$get("Static");e=e||this,et(this,e,t,!1,!0);var n=this.prototype.$get("staticConst");et(this,e,n,!0,!0);var r=this.base;r&&tt.call(r,e)}function nt(t,n,r){var i=t.Package,s=t.className;if(!i||!s){console.log("Either Package or Class name is missing");return}if(typeof r=="function"){i[s]=r;return}if(!i[s]&&(i[s]=e[s])){t.shortHand=s;try{e[s]=null,delete e[s]}catch(o){console.log(o)}}var u=i[s];i[s]=function(){var e=K.call(this,i[s],t,s,u);return this.__base___||(e.constructor.apply(e,arguments),typeof e.base=="function"&&e.base()),!this.__base___&&e.el&&e.el[0]&&(e.el[0].jfm=e),e},H(t.imports,t.included,function(){Z.call(i[s],t,s,u,n),n=undefined},s)}if(e.fm&&e.fm["package"])return;e.fm={};var r=[];fm.basedir="/javascript",fm.stackTrace=function(e){try{e&&console.error(e);var t=arguments.callee,n="";while(t.caller)t.caller.getName?n+=t.caller.getName()+" of "+t.caller.$Class+"\n":t.caller.name!=""&&(n+=t.caller.name+"\n"),t=t.caller;console.log(n);var r=ty}catch(i){console.error(i.stack&&i.stack.substring(i.stack.indexOf("\n")))}};var i={};fm["import"]=fm.Import=function(t){return t=t.replace(/\s/g,""),u(t),this.Include(t,i),this};var s=[];fm.include=fm.Include=function(){var t=arguments[1]===i,n=[];for(var r=1;r<arguments.length;r++)n.push(arguments[r]);var o=arguments[0],u=fm.basedir.replace(/\//gim,"");!t&&a(o);if(!s[u+o]){s[u+o]=n||!0;if(fm.isConcatinated&&o.indexOf("http")!=0)return this;o=o.replace(/\s/g,"");var f=o;return o.indexOf("jfm")===2345678?o="/"+o.split(".").join("/")+".js":o.indexOf("http")!=0&&o.lastIndexOf(".js")!=o.length-3&&(o=fm.basedir+"/"+o.split(".").join("/")+".js",fm.isMinified&&(o=o.replace(".js","")+"-min.js")),l(o,f,t),this}return typeof n[n.length-1]=="function"&&n.pop()(),this};var f;fm["package"]=fm.Package=function(t){var n={packageName:t||""};return r.push(n),n},fm["super"]=fm.base=fm.Base=function(t){var n=r[r.length-1];return n&&(n.baseClass=t)&&this.Import(t),this},fm["interface"]=fm.Interface=function(){var t=r[r.length-1];t.isInterface=!0,this.Class.apply(this,arguments)},fm.abstractClass=fm.AbstractClass=function(){var e=r[r.length-1];e.isAbstract=!0,this.Class.apply(this,arguments)},fm["implements"]=fm.Implements=function(){var t=r[r.length-1];t.interfaces=t.interfaces||[];for(var n=0,i=arguments.length;n<i;n++)this.Import(arguments[n]),t.interfaces.push(arguments[n])},fm.isExist=function(t,n){var r=t.split("."),i=n||e;for(var s in r){if(!i[r[s]])return!1;i=i[r[s]]}return typeof i=="function"?i:!1},fm["class"]=fm.Class=function(){var n=r[r.length-1],i,o=arguments,u=null;n.className=o[0],o[1]&&this.Base(o[1]),u=d(""+n.packageName),n.Class=""+(n.packageName==""?"":n.packageName+".")+n.className,n.Package=u;if(!t){var a=fm.basedir.replace(/\//gim,"");typeof s[a+n.Class]=="object"&&(i=s[a+n.Class],s[a+n.Class]=!0),p(n,i,u[n.className])}},fm.globaltransient=[],fm.stringToObject=function(n,r){r=r||e,classStrArr=n.split(".");for(var i=0;r&&i<classStrArr.length;i++)r=r[classStrArr[i]];return r},Function.prototype.bind||(Function.bind=Function.prototype.bind=function(e){var t=this;return function(){return t.apply(e,arguments)}});var m=v({})||Object.prototype.__defineGetter__,y={};fm.getMissingClass=function(){var e=[];for(var t in y)!y[t].classObj&&!fm.isExist(t)&&e.push(t);return e};var x=[];e.Static=e.Abstract=e.Const=e.Private=null,e.getFunctionName=function(){return arguments.callee.caller.name};var W=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,X=/,/,V=/^\s*(_?)(.+?)\1\s*$/,J=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg})(this.window||global,!this.window),fm.basedir="/js";
fm.isMinified=true;
